<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#10B981',
                        accent: '#F59E0B',
                        dark: '#1F2937',
                        light: '#F9FAFB'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            body {
                @apply bg-gray-50 text-gray-800 font-sans;
            }
            .card {
                @apply bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg;
            }
            .btn {
                @apply px-4 py-2 rounded-lg font-medium transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2;
            }
            .btn-primary {
                @apply bg-primary text-white hover:bg-primary/90 focus:ring-primary;
            }
            .btn-secondary {
                @apply bg-secondary text-white hover:bg-secondary/90 focus:ring-secondary;
            }
            .input-field {
                @apply w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none transition-colors;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // React Components
        const { useState, useEffect } = React;

        // Main App Component
        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);
            
            // Mock data for demonstration
            const [books, setBooks] = useState([
                { id: 1, title: 'The Great Gatsby', author: 'F. Scott Fitzgerald', genre: 'Classic', isbn: '9780743273565', year: 1925, copies: 5 },
                { id: 2, title: 'To Kill a Mockingbird', author: 'Harper Lee', genre: 'Fiction', isbn: '9780061120084', year: 1960, copies: 3 },
                { id: 3, title: '1984', author: 'George Orwell', genre: 'Dystopian', isbn: '9780451524935', year: 1949, copies: 7 }
            ]);
            
            const [members, setMembers] = useState([
                { id: 1, name: 'John Doe', email: 'john@example.com', phone: '555-1234', address: '123 Main St', status: 'Active' },
                { id: 2, name: 'Jane Smith', email: 'jane@example.com', phone: '555-5678', address: '456 Oak Ave', status: 'Active' }
            ]);
            
            const [transactions, setTransactions] = useState([
                { id: 1, bookId: 1, memberId: 1, borrowDate: '2023-05-15', returnDate: '2023-06-15', status: 'Borrowed' },
                { id: 2, bookId: 2, memberId: 2, borrowDate: '2023-05-20', returnDate: '2023-06-20', status: 'Borrowed' }
            ]);
            
            const [fines, setFines] = useState([
                { id: 1, memberId: 1, amount: 5.00, status: 'Pending', date: '2023-06-16' }
            ]);
            
            const [notifications, setNotifications] = useState([
                { id: 1, memberId: 1, message: 'Book "The Great Gatsby" is due in 2 days', date: '2023-06-13' },
                { id: 2, memberId: 1, message: 'You have an overdue book', date: '2023-06-16' }
            ]);
            
            // Toggle sidebar on mobile
            const toggleSidebar = () => {
                setIsSidebarOpen(!isSidebarOpen);
            };
            
            // Render active tab content
            const renderContent = () => {
                switch(activeTab) {
                    case 'dashboard':
                        return <Dashboard books={books} members={members} transactions={transactions} />;
                    case 'books':
                        return <BookManagement books={books} setBooks={setBooks} />;
                    case 'members':
                        return <MemberManagement members={members} setMembers={setMembers} />;
                    case 'borrow':
                        return <BorrowReturn books={books} members={members} transactions={transactions} setTransactions={setTransactions} />;
                    case 'fines':
                        return <OverdueFines fines={fines} members={members} />;
                    case 'notifications':
                        return <Notifications notifications={notifications} members={members} />;
                    default:
                        return <Dashboard books={books} members={members} transactions={transactions} />;
                }
            };
            
            return (
                <div className="min-h-screen flex flex-col">
                    {/* Header */}
                    <header className="bg-primary text-white shadow-md">
                        <div className="container mx-auto px-4 py-3 flex items-center justify-between">
                            <div className="flex items-center">
                                <i className="fas fa-book text-2xl mr-3"></i>
                                <h1 className="text-xl font-bold">Library Management System</h1>
                            </div>
                            <div className="hidden md:flex items-center space-x-4">
                                <NotificationsIcon count={notifications.length} />
                                <div className="flex items-center">
                                    <img src="https://ui-avatars.com/api/?name=Admin" alt="Admin" className="w-8 h-8 rounded-full" />
                                    <span className="ml-2">Admin</span>
                                </div>
                            </div>
                            <button 
                                className="md:hidden text-white"
                                onClick={toggleSidebar}
                            >
                                <i className="fas fa-bars text-xl"></i>
                            </button>
                        </div>
                    </header>
                    
                    {/* Main Content */}
                    <div className="flex flex-1">
                        {/* Sidebar */}
                        <aside className={`bg-dark text-white w-64 fixed md:relative h-full md:h-auto z-10 transform md:transform-none transition-transform duration-300 ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0`}>
                            <div className="p-4">
                                <h2 className="text-xl font-semibold mb-6">Navigation</h2>
                                <nav>
                                    <ul className="space-y-2">
                                        <NavItem 
                                            icon="fas fa-home" 
                                            label="Dashboard" 
                                            active={activeTab === 'dashboard'} 
                                            onClick={() => setActiveTab('dashboard')} 
                                        />
                                        <NavItem 
                                            icon="fas fa-book" 
                                            label="Book Management" 
                                            active={activeTab === 'books'} 
                                            onClick={() => setActiveTab('books')} 
                                        />
                                        <NavItem 
                                            icon="fas fa-users" 
                                            label="Member Management" 
                                            active={activeTab === 'members'} 
                                            onClick={() => setActiveTab('members')} 
                                        />
                                        <NavItem 
                                            icon="fas fa-exchange-alt" 
                                            label="Borrow/Return" 
                                            active={activeTab === 'borrow'} 
                                            onClick={() => setActiveTab('borrow')} 
                                        />
                                        <NavItem 
                                            icon="fas fa-money-bill-wave" 
                                            label="Overdue & Fines" 
                                            active={activeTab === 'fines'} 
                                            onClick={() => setActiveTab('fines')} 
                                        />
                                        <NavItem 
                                            icon="fas fa-bell" 
                                            label="Notifications" 
                                            active={activeTab === 'notifications'} 
                                            onClick={() => setActiveTab('notifications')} 
                                        />
                                    </ul>
                                </nav>
                            </div>
                        </aside>
                        
                        {/* Main Content Area */}
                        <main className="flex-1 p-4 md:p-6 overflow-auto">
                            <div className="container mx-auto">
                                {renderContent()}
                            </div>
                        </main>
                    </div>
                    
                    {/* Footer */}
                    <footer className="bg-gray-800 text-white py-4">
                        <div className="container mx-auto px-4 text-center">
                            <p>Library Management System &copy; {new Date().getFullYear()} - All Rights Reserved</p>
                        </div>
                    </footer>
                </div>
            );
        }

        // Navigation Item Component
        function NavItem({ icon, label, active, onClick }) {
            return (
                <li>
                    <button
                        className={`w-full flex items-center px-4 py-3 rounded-lg transition-colors hover:bg-white/10 ${active ? 'bg-primary/80' : ''}`}
                        onClick={onClick}
                    >
                        <i className={`${icon} mr-3`}></i>
                        <span>{label}</span>
                    </button>
                </li>
            );
        }

        // Notifications Icon Component
        function NotificationsIcon({ count }) {
            return (
                <div className="relative">
                    <i className="fas fa-bell text-xl"></i>
                    {count > 0 && (
                        <span className="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full font-bold w-5 h-5 flex items-center justify-center">
                            {count}
                        </span>
                    )}
                </div>
            );
        }

        // Dashboard Component
        function Dashboard({ books, members, transactions }) {
            const stats = [
                { title: 'Total Books', value: books.length, icon: 'fas fa-book', color: 'bg-primary' },
                { title: 'Active Members', value: members.filter(m => m.status === 'Active').length, icon: 'fas fa-users', color: 'bg-secondary' },
                { title: 'Borrowed Books', value: transactions.filter(t => t.status === 'Borrowed').length, icon: 'fas fa-exchange-alt', color: 'bg-accent' },
                { title: 'Overdue Books', value: 2, icon: 'fas fa-clock', color: 'bg-red-500' }
            ];
            
            return (
                <div>
                    <h1 className="text-2xl font-bold mb-6">Dashboard</h1>
                    
                    {/* Stats Cards */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        {stats.map((stat, index) => (
                            <div key={index} className="card">
                                <div className="p-5 flex items-center">
                                    <div className={`${stat.color} text-white p-3 rounded-lg mr-4`}>
                                        <i className={`${stat.icon} text-xl`}></i>
                                    </div>
                                    <div>
                                        <p className="text-gray-500">{stat.title}</p>
                                        <p className="text-2xl font-bold">{stat.value}</p>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    {/* Recent Activity */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Recent Transactions */}
                        <div className="card">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Recent Transactions</h2>
                                <div className="overflow-x-auto">
                                    <table className="min-w-full">
                                        <thead>
                                            <tr className="border-b">
                                                <th className="py-2 text-left">Book</th>
                                                <th className="py-2 text-left">Member</th>
                                                <th className="py-2 text-left">Due Date</th>
                                                <th className="py-2 text-left">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {transactions.slice(0, 5).map(transaction => {
                                                const book = books.find(b => b.id === transaction.bookId);
                                                const member = members.find(m => m.id === transaction.memberId);
                                                return (
                                                    <tr key={transaction.id} className="border-b hover:bg-gray-50">
                                                        <td className="py-3">{book?.title}</td>
                                                        <td className="py-3">{member?.name}</td>
                                                        <td className="py-3">{transaction.returnDate}</td>
                                                        <td className="py-3">
                                                            <span className={`px-2 py-1 rounded-full text-xs ${transaction.status === 'Borrowed' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`}>
                                                                {transaction.status}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                );
                                            })}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        {/* Overdue Books */}
                        <div className="card">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Overdue Books</h2>
                                <div className="space-y-4">
                                    {transactions.filter(t => t.status === 'Borrowed' && new Date(t.returnDate) < new Date()).slice(0, 3).map(transaction => {
                                        const book = books.find(b => b.id === transaction.bookId);
                                        const member = members.find(m => m.id === transaction.memberId);
                                        const daysOverdue = Math.floor((new Date() - new Date(transaction.returnDate)) / (1000 * 60 * 60 * 24));
                                        return (
                                            <div key={transaction.id} className="flex items-center justify-between border-b pb-3">
                                                <div>
                                                    <p className="font-medium">{book?.title}</p>
                                                    <p className="text-sm text-gray-600">Borrowed by: {member?.name}</p>
                                                </div>
                                                <div className="text-right">
                                                    <p className="text-red-500 font-medium">{daysOverdue} days overdue</p>
                                                    <p className="text-sm text-gray-600">Due: {transaction.returnDate}</p>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Book Management Component
        function BookManagement({ books, setBooks }) {
            const [showAddModal, setShowAddModal] = useState(false);
            const [newBook, setNewBook] = useState({
                title: '',
                author: '',
                genre: '',
                isbn: '',
                year: '',
                copies: ''
            });
            
            const handleAddBook = () => {
                if (newBook.title && newBook.author) {
                    const book = {
                        id: books.length + 1,
                        ...newBook,
                        copies: parseInt(newBook.copies) || 1,
                        year: parseInt(newBook.year) || new Date().getFullYear()
                    };
                    setBooks([...books, book]);
                    setShowAddModal(false);
                    setNewBook({
                        title: '',
                        author: '',
                        genre: '',
                        isbn: '',
                        year: '',
                        copies: ''
                    });
                }
            };
            
            const handleDeleteBook = (id) => {
                setBooks(books.filter(book => book.id !== id));
            };
            
            return (
                <div>
                    <div className="flex justify-between items-center mb-6">
                        <h1 className="text-2xl font-bold">Book Management</h1>
                        <button 
                            className="btn btn-primary"
                            onClick={() => setShowAddModal(true)}
                        >
                            <i className="fas fa-plus mr-2"></i> Add Book
                        </button>
                    </div>
                    
                    {/* Books Table */}
                    <div className="card overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="min-w-full">
                                <thead className="bg-gray-100">
                                    <tr>
                                        <th className="py-3 px-4 text-left">Title</th>
                                        <th className="py-3 px-4 text-left">Author</th>
                                        <th className="py-3 px-4 text-left">Genre</th>
                                        <th className="py-3 px-4 text-left">ISBN</th>
                                        <th className="py-3 px-4 text-left">Year</th>
                                        <th className="py-3 px-4 text-left">Copies</th>
                                        <th className="py-3 px-4 text-left">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {books.map(book => (
                                        <tr key={book.id} className="border-b hover:bg-gray-50">
                                            <td className="py-3 px-4">{book.title}</td>
                                            <td className="py-3 px-4">{book.author}</td>
                                            <td className="py-3 px-4">{book.genre}</td>
                                            <td className="py-3 px-4">{book.isbn}</td>
                                            <td className="py-3 px-4">{book.year}</td>
                                            <td className="py-3 px-4">{book.copies}</td>
                                            <td className="py-3 px-4">
                                                <button className="text-blue-500 hover:text-blue-700 mr-3">
                                                    <i className="fas fa-edit"></i>
                                                </button>
                                                <button 
                                                    className="text-red-500 hover:text-red-700"
                                                    onClick={() => handleDeleteBook(book.id)}
                                                >
                                                    <i className="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    {/* Add Book Modal */}
                    {showAddModal && (
                        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-20">
                            <div className="bg-white rounded-xl w-full max-w-md p-6">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold">Add New Book</h2>
                                    <button 
                                        className="text-gray-500 hover:text-gray-700"
                                        onClick={() => setShowAddModal(false)}
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Title *</label>
                                        <input
                                            type="text"
                                            className="input-field"
                                            value={newBook.title}
                                            onChange={(e) => setNewBook({...newBook, title: e.target.value})}
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Author *</label>
                                        <input
                                            type="text"
                                            className="input-field"
                                            value={newBook.author}
                                            onChange={(e) => setNewBook({...newBook, author: e.target.value})}
                                        />
                                    </div>
                                    
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium mb-1">Genre</label>
                                            <input
                                                type="text"
                                                className="input-field"
                                                value={newBook.genre}
                                                onChange={(e) => setNewBook({...newBook, genre: e.target.value})}
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium mb-1">ISBN</label>
                                            <input
                                                type="text"
                                                className="input-field"
                                                value={newBook.isbn}
                                                onChange={(e) => setNewBook({...newBook, isbn: e.target.value})}
                                            />
                                        </div>
                                    </div>
                                    
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium mb-1">Year Published</label>
                                            <input
                                                type="number"
                                                className="input-field"
                                                value={newBook.year}
                                                onChange={(e) => setNewBook({...newBook, year: e.target.value})}
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium mb-1">Copies Available</label>
                                            <input
                                                type="number"
                                                className="input-field"
                                                value={newBook.copies}
                                                onChange={(e) => setNewBook({...newBook, copies: e.target.value})}
                                            />
                                        </div>
                                    </div>
                                    
                                    <div className="flex justify-end space-x-3 mt-6">
                                        <button 
                                            className="btn bg-gray-200 hover:bg-gray-300"
                                            onClick={() => setShowAddModal(false)}
                                        >
                                            Cancel
                                        </button>
                                        <button 
                                            className="btn btn-primary"
                                            onClick={handleAddBook}
                                        >
                                            Add Book
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Member Management Component
        function MemberManagement({ members, setMembers }) {
            const [showAddModal, setShowAddModal] = useState(false);
            const [newMember, setNewMember] = useState({
                name: '',
                email: '',
                phone: '',
                address: '',
                status: 'Active'
            });
            
            const handleAddMember = () => {
                if (newMember.name && newMember.email) {
                    const member = {
                        id: members.length + 1,
                        ...newMember
                    };
                    setMembers([...members, member]);
                    setShowAddModal(false);
                    setNewMember({
                        name: '',
                        email: '',
                        phone: '',
                        address: '',
                        status: 'Active'
                    });
                }
            };
            
            const handleDeleteMember = (id) => {
                setMembers(members.filter(member => member.id !== id));
            };
            
            return (
                <div>
                    <div className="flex justify-between items-center mb-6">
                        <h1 className="text-2xl font-bold">Member Management</h1>
                        <button 
                            className="btn btn-primary"
                            onClick={() => setShowAddModal(true)}
                        >
                            <i className="fas fa-plus mr-2"></i> Add Member
                        </button>
                    </div>
                    
                    {/* Members Table */}
                    <div className="card overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="min-w-full">
                                <thead className="bg-gray-100">
                                    <tr>
                                        <th className="py-3 px-4 text-left">Name</th>
                                        <th className="py-3 px-4 text-left">Email</th>
                                        <th className="py-3 px-4 text-left">Phone</th>
                                        <th className="py-3 px-4 text-left">Status</th>
                                        <th className="py-3 px-4 text-left">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {members.map(member => (
                                        <tr key={member.id} className="border-b hover:bg-gray-50">
                                            <td className="py-3 px-4">{member.name}</td>
                                            <td className="py-3 px-4">{member.email}</td>
                                            <td className="py-3 px-4">{member.phone}</td>
                                            <td className="py-3 px-4">
                                                <span className={`px-2 py-1 rounded-full text-xs ${member.status === 'Active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                                                    {member.status}
                                                </span>
                                            </td>
                                            <td className="py-3 px-4">
                                                <button className="text-blue-500 hover:text-blue-700 mr-3">
                                                    <i className="fas fa-edit"></i>
                                                </button>
                                                <button 
                                                    className="text-red-500 hover:text-red-700"
                                                    onClick={() => handleDeleteMember(member.id)}
                                                >
                                                    <i className="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    {/* Add Member Modal */}
                    {showAddModal && (
                        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-20">
                            <div className="bg-white rounded-xl w-full max-w-md p-6">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold">Add New Member</h2>
                                    <button 
                                        className="text-gray-500 hover:text-gray-700"
                                        onClick={() => setShowAddModal(false)}
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Full Name *</label>
                                        <input
                                            type="text"
                                            className="input-field"
                                            value={newMember.name}
                                            onChange={(e) => setNewMember({...newMember, name: e.target.value})}
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Email *</label>
                                        <input
                                            type="email"
                                            className="input-field"
                                            value={newMember.email}
                                            onChange={(e) => setNewMember({...newMember, email: e.target.value})}
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Phone</label>
                                        <input
                                            type="tel"
                                            className="input-field"
                                            value={newMember.phone}
                                            onChange={(e) => setNewMember({...newMember, phone: e.target.value})}
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Address</label>
                                        <textarea
                                            className="input-field"
                                            value={newMember.address}
                                            onChange={(e) => setNewMember({...newMember, address: e.target.value})}
                                            rows="3"
                                        ></textarea>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Status</label>
                                        <select
                                            className="input-field"
                                            value={newMember.status}
                                            onChange={(e) => setNewMember({...newMember, status: e.target.value})}
                                        >
                                            <option value="Active">Active</option>
                                            <option value="Inactive">Inactive</option>
                                        </select>
                                    </div>
                                    
                                    <div className="flex justify-end space-x-3 mt-6">
                                        <button 
                                            className="btn bg-gray-200 hover:bg-gray-300"
                                            onClick={() => setShowAddModal(false)}
                                        >
                                            Cancel
                                        </button>
                                        <button 
                                            className="btn btn-primary"
                                            onClick={handleAddMember}
                                        >
                                            Add Member
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Borrow/Return Component
        function BorrowReturn({ books, members, transactions, setTransactions }) {
            const [selectedBook, setSelectedBook] = useState('');
            const [selectedMember, setSelectedMember] = useState('');
            const [borrowDate, setBorrowDate] = useState('');
            const [returnDate, setReturnDate] = useState('');
            const [actionType, setActionType] = useState('borrow');
            
            const handleSubmit = () => {
                if (selectedBook && selectedMember && borrowDate) {
                    const transaction = {
                        id: transactions.length + 1,
                        bookId: parseInt(selectedBook),
                        memberId: parseInt(selectedMember),
                        borrowDate: borrowDate,
                        returnDate: returnDate || calculateReturnDate(borrowDate),
                        status: actionType === 'borrow' ? 'Borrowed' : 'Returned'
                    };
                    
                    setTransactions([...transactions, transaction]);
                    
                    // Reset form
                    setSelectedBook('');
                    setSelectedMember('');
                    setBorrowDate('');
                    setReturnDate('');
                }
            };
            
            const calculateReturnDate = (date) => {
                const borrowDate = new Date(date);
                borrowDate.setDate(borrowDate.getDate() + 30); // 30 days borrowing period
                return borrowDate.toISOString().split('T')[0];
            };
            
            return (
                <div>
                    <h1 className="text-2xl font-bold mb-6">Book Borrowing & Returning</h1>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        {/* Borrow/Return Form */}
                        <div className="card lg:col-span-2">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Transaction Form</h2>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Action Type</label>
                                        <div className="flex space-x-2">
                                            <button 
                                                className={`flex-1 btn ${actionType === 'borrow' ? 'btn-primary' : 'bg-gray-200 hover:bg-gray-300'}`}
                                                onClick={() => setActionType('borrow')}
                                            >
                                                Borrow
                                            </button>
                                            <button 
                                                className={`flex-1 btn ${actionType === 'return' ? 'btn-secondary' : 'bg-gray-200 hover:bg-gray-300'}`}
                                                onClick={() => setActionType('return')}
                                            >
                                                Return
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Borrow Date *</label>
                                        <input
                                            type="date"
                                            className="input-field"
                                            value={borrowDate}
                                            onChange={(e) => {
                                                setBorrowDate(e.target.value);
                                                if (actionType === 'borrow') {
                                                    setReturnDate(calculateReturnDate(e.target.value));
                                                }
                                            }}
                                        />
                                    </div>
                                </div>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Select Book *</label>
                                        <select
                                            className="input-field"
                                            value={selectedBook}
                                            onChange={(e) => setSelectedBook(e.target.value)}
                                        >
                                            <option value="">Select a book</option>
                                            {books.map(book => (
                                                <option key={book.id} value={book.id}>
                                                    {book.title} by {book.author}
                                                </option>
                                            ))}
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Select Member *</label>
                                        <select
                                            className="input-field"
                                            value={selectedMember}
                                            onChange={(e) => setSelectedMember(e.target.value)}
                                        >
                                            <option value="">Select a member</option>
                                            {members.map(member => (
                                                <option key={member.id} value={member.id}>
                                                    {member.name} ({member.email})
                                                </option>
                                            ))}
                                        </select>
                                    </div>
                                </div>
                                
                                {actionType === 'borrow' && (
                                    <div className="mb-4">
                                        <label className="block text-sm font-medium mb-1">Return Date</label>
                                        <input
                                            type="date"
                                            className="input-field"
                                            value={returnDate}
                                            onChange={(e) => setReturnDate(e.target.value)}
                                        />
                                    </div>
                                )}
                                
                                <button 
                                    className="btn btn-primary w-full"
                                    onClick={handleSubmit}
                                >
                                    {actionType === 'borrow' ? 'Borrow Book' : 'Return Book'}
                                </button>
                            </div>
                        </div>
                        
                        {/* Recent Transactions */}
                        <div className="card">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Recent Transactions</h2>
                                <div className="space-y-4">
                                    {transactions.slice(0, 5).map(transaction => {
                                        const book = books.find(b => b.id === transaction.bookId);
                                        const member = members.find(m => m.id === transaction.memberId);
                                        return (
                                            <div key={transaction.id} className="border-b pb-3 last:border-0 last:pb-0">
                                                <div className="flex justify-between">
                                                    <span className="font-medium">{book?.title}</span>
                                                    <span className={`px-2 py-1 rounded-full text-xs ${transaction.status === 'Borrowed' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`}>
                                                        {transaction.status}
                                                    </span>
                                                </div>
                                                <p className="text-sm text-gray-600">Member: {member?.name}</p>
                                                <p className="text-sm text-gray-600">Borrowed: {transaction.borrowDate}</p>
                                                {transaction.status === 'Borrowed' && (
                                                    <p className="text-sm text-gray-600">Due: {transaction.returnDate}</p>
                                                )}
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* All Transactions */}
                    <div className="card">
                        <div className="p-5">
                            <h2 className="text-xl font-semibold mb-4">All Transactions</h2>
                            <div className="overflow-x-auto">
                                <table className="min-w-full">
                                    <thead className="bg-gray-100">
                                        <tr>
                                            <th className="py-3 px-4 text-left">Book</th>
                                            <th className="py-3 px-4 text-left">Member</th>
                                            <th className="py-3 px-4 text-left">Borrow Date</th>
                                            <th className="py-3 px-4 text-left">Return Date</th>
                                            <th className="py-3 px-4 text-left">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {transactions.map(transaction => {
                                            const book = books.find(b => b.id === transaction.bookId);
                                            const member = members.find(m => m.id === transaction.memberId);
                                            return (
                                                <tr key={transaction.id} className="border-b hover:bg-gray-50">
                                                    <td className="py-3 px-4">{book?.title}</td>
                                                    <td className="py-3 px-4">{member?.name}</td>
                                                    <td className="py-3 px-4">{transaction.borrowDate}</td>
                                                    <td className="py-3 px-4">{transaction.returnDate}</td>
                                                    <td className="py-3 px-4">
                                                        <span className={`px-2 py-1 rounded-full text-xs ${transaction.status === 'Borrowed' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`}>
                                                            {transaction.status}
                                                        </span>
                                                    </td>
                                                </tr>
                                            );
                                        })}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Overdue & Fines Component
        function OverdueFines({ fines, members }) {
            return (
                <div>
                    <h1 className="text-2xl font-bold mb-6">Overdue Books & Fines</h1>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        {/* Overdue Books */}
                        <div className="card">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Overdue Books</h2>
                                <div className="space-y-4">
                                    {Array(3).fill().map((_, index) => (
                                        <div key={index} className="border-b pb-3 last:border-0 last:pb-0">
                                            <div className="flex justify-between">
                                                <span className="font-medium">The Great Gatsby</span>
                                                <span className="text-red-500 font-medium">5 days overdue</span>
                                            </div>
                                            <p className="text-sm text-gray-600">Borrowed by: John Doe</p>
                                            <p className="text-sm text-gray-600">Due: 2023-06-15</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                        
                        {/* Fines Summary */}
                        <div className="card">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Fines Summary</h2>
                                <div className="space-y-4">
                                    <div className="flex justify-between items-center">
                                        <div>
                                            <p className="font-medium">Total Outstanding Fines</p>
                                            <p className="text-sm text-gray-600">Unpaid fines across all members</p>
                                        </div>
                                        <span className="text-2xl font-bold text-red-500">$15.00</span>
                                    </div>
                                    
                                    <div className="flex justify-between items-center">
                                        <div>
                                            <p className="font-medium">Total Collected Fines</p>
                                            <p className="text-sm text-gray-600">Paid fines this month</p>
                                        </div>
                                        <span className="text-2xl font-bold text-green-500">$25.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Fines List */}
                    <div className="card">
                        <div className="p-5">
                            <div className="flex justify-between items-center mb-4">
                                <h2 className="text-xl font-semibold">Fines Management</h2>
                                <button className="btn btn-primary">
                                    <i className="fas fa-plus mr-2"></i> Add Fine
                                </button>
                            </div>
                            
                            <div className="overflow-x-auto">
                                <table className="min-w-full">
                                    <thead className="bg-gray-100">
                                        <tr>
                                            <th className="py-3 px-4 text-left">Member</th>
                                            <th className="py-3 px-4 text-left">Amount</th>
                                            <th className="py-3 px-4 text-left">Status</th>
                                            <th className="py-3 px-4 text-left">Date</th>
                                            <th className="py-3 px-4 text-left">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {fines.map(fine => {
                                            const member = members.find(m => m.id === fine.memberId);
                                            return (
                                                <tr key={fine.id} className="border-b hover:bg-gray-50">
                                                    <td className="py-3 px-4">{member?.name}</td>
                                                    <td className="py-3 px-4">${fine.amount.toFixed(2)}</td>
                                                    <td className="py-3 px-4">
                                                        <span className={`px-2 py-1 rounded-full text-xs ${fine.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`}>
                                                            {fine.status}
                                                        </span>
                                                    </td>
                                                    <td className="py-3 px-4">{fine.date}</td>
                                                    <td className="py-3 px-4">
                                                        {fine.status === 'Pending' && (
                                                            <button className="btn btn-secondary px-3 py-1 text-sm">
                                                                Mark as Paid
                                                            </button>
                                                        )}
                                                    </td>
                                                </tr>
                                            );
                                        })}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Notifications Component
        function Notifications({ notifications, members }) {
            return (
                <div>
                    <h1 className="text-2xl font-bold mb-6">Notifications & Alerts</h1>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        {/* Notification Settings */}
                        <div className="card lg:col-span-1">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Notification Settings</h2>
                                
                                <div className="space-y-4">
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <p className="font-medium">Due Date Reminders</p>
                                            <p className="text-sm text-gray-600">Send reminders 3 days before due date</p>
                                        </div>
                                        <label className="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" className="sr-only peer" defaultChecked />
                                            <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                        </label>
                                    </div>
                                    
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <p className="font-medium">Overdue Alerts</p>
                                            <p className="text-sm text-gray-600">Send alerts when books become overdue</p>
                                        </div>
                                        <label className="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" className="sr-only peer" defaultChecked />
                                            <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                        </label>
                                    </div>
                                    
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <p className="font-medium">Fine Notifications</p>
                                            <p className="text-sm text-gray-600">Notify members about fines</p>
                                        </div>
                                        <label className="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" className="sr-only peer" defaultChecked />
                                            <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                        </label>
                                    </div>
                                    
                                    <div className="pt-4">
                                        <button className="btn btn-primary w-full">Save Settings</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        {/* Notification History */}
                        <div className="card lg:col-span-2">
                            <div className="p-5">
                                <h2 className="text-xl font-semibold mb-4">Notification History</h2>
                                
                                <div className="space-y-4">
                                    {notifications.map(notification => {
                                        const member = members.find(m => m.id === notification.memberId);
                                        return (
                                            <div key={notification.id} className="border-b pb-3 last:border-0 last:pb-0">
                                                <div className="flex justify-between">
                                                    <span className="font-medium">{member?.name}</span>
                                                    <span className="text-sm text-gray-500">{notification.date}</span>
                                                </div>
                                                <p className="mt-1">{notification.message}</p>
                                                <div className="mt-2 flex items-center text-sm text-gray-600">
                                                    <i className="fas fa-envelope mr-2"></i>
                                                    <span>Sent via Email</span>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Send Notification */}
                    <div className="card">
                        <div className="p-5">
                            <h2 className="text-xl font-semibold mb-4">Send New Notification</h2>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label className="block text-sm font-medium mb-1">Recipient</label>
                                    <select className="input-field">
                                        <option value="">Select a member</option>
                                        {members.map(member => (
                                            <option key={member.id} value={member.id}>
                                                {member.name} ({member.email})
                                            </option>
                                        ))}
                                        <option value="all">All Members</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium mb-1">Notification Type</label>
                                    <select className="input-field">
                                        <option value="">Select type</option>
                                        <option value="due_reminder">Due Date Reminder</option>
                                        <option value="overdue">Overdue Alert</option>
                                        <option value="fine">Fine Notification</option>
                                        <option value="custom">Custom Message</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div className="mb-4">
                                <label className="block text-sm font-medium mb-1">Message</label>
                                <textarea
                                    className="input-field"
                                    rows="4"
                                    placeholder="Enter notification message..."
                                ></textarea>
                            </div>
                            
                            <div className="flex justify-end">
                                <button className="btn btn-primary">Send Notification</button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>